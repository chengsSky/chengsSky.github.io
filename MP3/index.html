<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>简约播放器</title>
		<link rel="stylesheet" href="../css/chengs.css" />
		<link rel="stylesheet" href="../css/music.css" />
		<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<link
			rel="stylesheet"
			href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css" />
	</head>

	<body>
		<div class="box">
			<audio src="./樱花树下的重逢（张君豪版） - 万北.mp3" controls></audio>
			<div class="music">
				<img src="../picture/sakura.webp" alt="" />
				<h3>樱花树下的重逢</h3>
				<h5>张君豪</h5>
				<div class="music-cz">
					<div class="music-l">
						<i class="fa fa-backward fa-3x" aria-hidden="true"></i>
					</div>
					<div class="music-c">
						<div class="music-no">
							<i class="fa fa-play fa-3x" aria-hidden="true"></i>
						</div>
						<div class="music-yes">
							<i class="fa fa-pause fa-3x" aria-hidden="true"></i>
						</div>
					</div>
					<div class="music-r">
						<i class="fa fa-forward fa-3x" aria-hidden="true"></i>
					</div>
				</div>
				<label class="dsno">
					<input
						type="range"
						name="progress"
						min="0"
						value="0"
						max="100"
						step="0.01" />
					<div class="jindu">
						<div class="mask"></div>
					</div>
				</label>
			</div>
		</div>
		<script>
			var audioEl = document.querySelector("audio");
			$(".music-c").click(function () {
				$(".music-no").toggle();
				$("img").toggleClass("shaun");
				$("label").toggleClass("dsno");
				$(".music").toggleClass("doduong");
				audioEl.volume = 1;
				if (audioEl.paused) {
					audioEl.play();
				} else audioEl.pause();
			});

			var progress = document.querySelector("input[name=progress]");
			var mask = document.querySelector(".mask");
			progress.oninput = function () {
				mask.style.width = this.value + "%";
				audio.currentTime = (this.value * audio.duration) / 100;
			};

			var audio = document.querySelector("audio");
			audio.ontimeupdate = function () {
				mask.style.width = (this.currentTime / this.duration) * 100 + "%";
			};
		</script>
	</body>
</html>
